<div>
  <div id="mainview">
    <h1>Preparing invite link...</h1>
  </div>
  <div id="unkownid" style="display:none;">
    <h1>This page was not sent the right data! please double check that you are supposed to be at this page!</h1>
    <a href="https://oxmc.github.io">Homepage</a>
  </div>
  <div id="error" style="display:none;">
    <h1 id="errortxt"></h1>
  </div>
  <div id="link" style="display:none;">
    <p id=txt></p>
    <a id="link1"></a>
    <a href="https://oxmc.github.io">Homepage</a>
  </div>
</div>
<script>
var url = location.search.substring(1);
var server;
var link;
var error = document.getElementById("error");
var linkurl = document.getElementById("link");
var linktxt = document.getElementById("link1");
var mainview = document.getElementById("mainview");
var errortxt = document.getElementById("errortxt");
var unkownid = document.getElementById("unkownid");

function Id() {
  if (url == "id=GB") {
    server = "Gachabuddys";
    link = "https://discord.gg/pEHP7QSX72";
  } else if (url == "id=botspot") {
    server = "Botspot software";
    link = "https://discord.gg/RXSTvaUvuu";
  } else {
    server = "unkownid";
  }
  if (server == "unkownid") {
    mainview.style.display = "none";
    unkownid.style.display = "block";
  } else {
    mainview.style.display = "none";
    linkurl.style.display = "block";
    linktxt.style.display = "block";
    Link(link)
    txt.innerHTML = "If the page doesn't open the link to join " + server + ", A manual link is below.";
  }   
}

function OpenLink(id) {
  window.open(id);
  mainview.style.display = "none";
  linkurl.style.display = "block";
}

function ErrorDisplay(error) {
  linktxt.style.display = "block";
  errortxt.innerHTML = error;
}

function Error(id) {
  mainview.style.display = "none";
  linkurl.style.display = "block";
  if (id == "InvalidLink1") {
    error.style.display = "block";
    ErrorDisplay('Unable to open discord invite link, manual link is below.');
    linktxt.innerHTML = "Manual Link";
    Link(link);
  } else if (id == "InvalidID") {
    error.style.display = "block";
    ErrorDisplay('Unkown ID "' + url + '".');
    linktxt.style.display = "block";
    linktxt.innerHTML = "Manual Link";
    Link('https://oxmc.github.io');
  } else {
    error.style.display = "block";
    ErrorDisplay('Unkown error.');
  }
}

function Link(link) {
  linktxt.setAttribute('href', link);
}

Id();
</script>
